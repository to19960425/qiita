---
title: EC-CUBEプラグイン開発環境の管理方法【備忘録】
tags:
  - PHP
  - EC-CUBE4
private: false
updated_at: '2025-04-28T10:28:56+09:00'
id: 3590dac196dd01297ffb
organization_url_name: null
slide: false
ignorePublish: false
---
## はじめに
- プラグイン開発を体験していく中で、どのように管理をするのが一番良いか気になりました。
- 公式ドキュメントにも紹介されている方法が非常に参考になったため、私自身の備忘録としてまとめます。

※ コチラの記事も、ChatGPTにひな型を作ってもらっています。

## 参考記事
https://zenn.dev/nanasess/articles/ec-cube4-plugin-development

https://doc4.ec-cube.net/plugin_development

## 前提条件
- EC-CUBEのバージョン：**4.3系**
- **Composer**などの基本操作は参考記事をご確認ください。

---

## 手順

### 1. EC-CUBEのインストール

公式ドキュメントの「[docker-composeを使用してインストールする手順](https://doc4.ec-cube.net/quickstart/docker_compose_install)」に沿って進めます。

#### (1) リポジトリをクローン
```bash
git clone https://github.com/EC-CUBE/ec-cube.git
cd ec-cube
```

#### (2) `docker-compose.dev.yml` を編集
プラグイン管理用ディレクトリをボリュームに追加します。
```yaml
version: '3'

services:
  ec-cube:
    environment:
      USER_ID: ${UID:-}
      GROUP_ID: ${GID:-}
    volumes:
      - ".:/var/www/html:cached"
      - "../ec-cube_plugin:/var/www/ec-cube_plugin" # 追加
```

#### (3) プラグイン管理用フォルダを作成
EC-CUBEと同じ階層に、プラグイン用フォルダを作ります。
```bash
cd ..
mkdir ec-cube_plugin
```

#### (4) EC-CUBEをセットアップ
```bash
cd path/to/ec-cube

docker-compose up -d

docker-compose exec -u www-data ec-cube bin/console eccube:install -n

docker-compose -f docker-compose.yml -f docker-compose.mysql.yml -f docker-compose.dev.yml up -d
```
- ブラウザで `http://localhost:8080` にアクセスし、EC-CUBEの画面が表示されればOKです。

---

### 2. プラグイン開発・管理設定

#### (1) プラグインのひな型を作成
```bash
bin/console eccube:plugin:generate
```

#### (2) プラグインを移動
生成されたプラグイン（例：Sample）を管理フォルダに移動します。
```bash
mv app/Plugin/Sample ../ec-cube_plugin/Sample
```

#### (3) Composer設定にローカルリポジトリを追加
`composer.json` を編集し、ローカルパスを指定します。
```json
    "repositories": {
        "sample-plugin": {
            "type": "path",
            "url": "../Sample"
        },
        "eccube": {
            // 特に変更なし
        }
    }
```

#### (4) プラグインをインストール・有効化
```bash
bin/console eccube:composer:require ec-cube/sample

bin/console eccube:plugin:install --code=Sample

bin/console eccube:plugin:enable --code=Sample
```

これでプラグインの開発環境・管理が完了です。

---
